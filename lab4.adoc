:diagram-use-plantuml:
:author: Залипаева Эвелина КЭ-201
:icon: front
:secttrue: true
:toc: left
:toclevels: 2
:secttruelevels: 2
:sectnums: |,all|
:stylesheet: custom.css
:stylesdir: ./styles
:imagesdir: pic
:toc:
:toc-title: Оглавление
:figure-caption: Рисунок
:table-caption: Таблица

include::test.adoc[]

== Введение в FreeRTOS
FreeRTOS — операционная система реального времени, предоставляющая инструменты для:

* Создания и управления задачами.
* Синхронизации и коммуникации между задачами.
* Работы с таймерами и прерываниями.

== Работа с задачами

=== Создание задач
Используется обертка `oRTOS.createTask` для создания задач. Пример:
[source,c]
----
TaskHandle_t xTaskHandle;
oRTOS.createTask(
    vTaskFunction,  // Функция задачи
    "TaskName",     // Идентификатор
    128,            // Размер стека
    NULL,           // Параметры
    1,              // Приоритет
    &xTaskHandle    // Указатель на дескриптор
);
----

=== Управление задержками
Метод `oRTOS.delayTask` приостанавливает задачу на указанное время (в тиках):
[source,c]
----
oRTOS.delayTask(pdMS_TO_TICKS(100)); // Задержка 100 мс
----

== Межзадачная коммуникация

=== Очереди
Очереди — базовый механизм для передачи данных и синхронизации.  

=== Нотификации задач
Нотификации — легковесная альтернатива очередям. Используется функция `taskNotify`.

==== Параметры `taskNotify`:
[cols="1,3", options="header"]
|===
| Параметр | Описание
| `taskToNotify` | Дескриптор задачи-получателя
| `value` | Передаваемое значение (32 бита)
| `eAction` | Действие над значением получателя
|===

==== Типы действий (`eAction`):
* `eNoAction`: Значение игнорируется (используется для пробуждения задачи).
* `eSetBits`: Установка битов в переменной-уведомлении получателя.
* `eSetValueWithOverwrite`: Перезапись текущего значения.
* `eSetValueWithoutOverwrite`: Запись только если предыдущее значение обработано.


== Сравнение механизмов
[cols="1,1,1", options="header"]
|===
| Механизм | Преимущества | Недостатки
| *Очереди* | Поддержка сложных данных | Высокие накладные расходы
| *Нотификации* | Быстродействие | Ограничение 32 битами
| *События* | Гибкость | Требуют ручного управления битами
|===

== Выводы
* Освоено создание задач через `oRTOS.createTask` и управление их выполнением.
* Изучены нотификации как эффективный механизм для передачи флагов и значений.
* Применены различные действия (`eSetBits`, `eSetValueWithOverwrite`) в `taskNotify`.
* Сравнены механизмы коммуникации: очереди подходят для данных, нотификации — для легковесных событий.
